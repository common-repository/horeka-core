{"version":3,"file":"rpd-add-to-cart.min.js","sources":["rpd-add-to-cart.min.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\njQuery(function ($) {\n  /* global wc_add_to_cart_params */\n  if (typeof wc_add_to_cart_params === 'undefined') {\n    return false;\n  }\n\n  $(document).on('submit', 'form.cart', function (e) {\n    var form = $(this),\n        button = form.find('.single_add_to_cart_button');\n    var formFields = form.find('input:not([name=\"product_id\"]), select, button, textarea'); // create the form data array\n\n    var formData = [];\n    formFields.each(function (i, field) {\n      // store them so you don't override the actual field's data\n      var fieldName = field.name,\n          fieldValue = field.value;\n\n      if (fieldName && fieldValue) {\n        // set the correct product/variation id for single or variable products\n        if (fieldName == 'add-to-cart') {\n          fieldName = 'product_id';\n          fieldValue = form.find('input[name=variation_id]').val() || fieldValue;\n        } // if the fiels is a checkbox/radio and is not checked, skip it\n\n\n        if ((field.type == 'checkbox' || field.type == 'radio') && field.checked == false) {\n          return;\n        } // add the data to the array\n\n\n        formData.push({\n          name: fieldName,\n          value: fieldValue\n        });\n      }\n    });\n\n    if (!formData.length) {\n      return;\n    }\n\n    e.preventDefault();\n    form.block({\n      message: null,\n      overlayCSS: {\n        background: \"#ffffff\",\n        opacity: 0.6\n      }\n    });\n    $(document.body).trigger('adding_to_cart', [button, formData]);\n    $.ajax({\n      type: 'POST',\n      url: woocommerce_params.wc_ajax_url.toString().replace('%%endpoint%%', 'add_to_cart'),\n      data: formData,\n      success: function success(response) {\n        if (!response) {\n          return;\n        }\n\n        if (response.error & response.product_url) {\n          window.location = response.product_url;\n          return;\n        }\n\n        $(document.body).trigger('added_to_cart', [response.fragments, response.cart_hash, button]);\n      },\n      complete: function complete() {\n        form.unblock();\n      }\n    });\n    return false;\n  });\n});\n\n},{}]},{},[1]);\n"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","jQuery","$","wc_add_to_cart_params","document","on","form","this","button","find","formFields","formData","each","field","fieldName","name","fieldValue","value","val","type","checked","push","preventDefault","block","message","overlayCSS","background","opacity","body","trigger","ajax","url","woocommerce_params","wc_ajax_url","toString","replace","data","success","response","error","product_url","window","location","fragments","cart_hash","complete","unblock"],"mappings":"CAAY,SAASA,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,EAAE,mBAAmBC,SAASA,QAAQ,IAAIF,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGI,EAAE,OAAOA,EAAEJ,GAAE,GAAkD,MAA1CK,EAAE,IAAIC,MAAM,uBAAuBN,EAAE,MAAaO,KAAK,mBAAmBF,EAAMG,EAAEX,EAAEG,GAAG,CAACS,QAAQ,IAAIb,EAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAoB,OAAOI,EAAlBH,EAAEI,GAAG,GAAGL,IAAeA,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGS,QAAQ,IAAI,IAAIL,EAAE,mBAAmBD,SAASA,QAAQH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,IAAI,OAAOD,EAA7b,CAA4c,CAACa,EAAE,CAAC,SAAST,EAAQU,EAAOJ,gBAGxeK,OAAO,SAAUC,GAEf,MAAqC,oBAA1BC,4BAIXD,EAAEE,UAAUC,GAAG,SAAU,YAAa,SAAUtB,GAC9C,IAAIuB,EAAOJ,EAAEK,MACTC,EAASF,EAAKG,KAAK,8BACnBC,EAAaJ,EAAKG,KAAK,4DAEvBE,EAAW,GA0Bf,GAzBAD,EAAWE,KAAK,SAAUzB,EAAG0B,GAE3B,IAAIC,EAAYD,EAAME,KAClBC,EAAaH,EAAMI,MAEnBH,GAAaE,IAEE,eAAbF,IACFA,EAAY,aACZE,EAAaV,EAAKG,KAAK,4BAA4BS,OAASF,IAI3C,YAAdH,EAAMM,MAAoC,SAAdN,EAAMM,MAAqC,GAAjBN,EAAMO,UAKjET,EAASU,KAAK,CACZN,KAAMD,EACNG,MAAOD,OAKRL,EAASb,OAiCd,OA7BAf,EAAEuC,iBACFhB,EAAKiB,MAAM,CACTC,QAAS,KACTC,WAAY,CACVC,WAAY,UACZC,QAAS,MAGbzB,EAAEE,SAASwB,MAAMC,QAAQ,iBAAkB,CAACrB,EAAQG,IACpDT,EAAE4B,KAAK,CACLX,KAAM,OACNY,IAAKC,mBAAmBC,YAAYC,WAAWC,QAAQ,eAAgB,eACvEC,KAAMzB,EACN0B,QAAS,SAAiBC,GACnBA,IAIDA,EAASC,MAAQD,EAASE,YAC5BC,OAAOC,SAAWJ,EAASE,YAI7BtC,EAAEE,SAASwB,MAAMC,QAAQ,gBAAiB,CAACS,EAASK,UAAWL,EAASM,UAAWpC,MAErFqC,SAAU,WACRvC,EAAKwC,cAGF,OAIT,KAAK,GAAG,CAAC"}